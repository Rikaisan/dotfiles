{
  // -------------------------------------------------------------------------
  // Global configuration
  // -------------------------------------------------------------------------

  "layer": "top",

  "position": "top",

  "margin-left": 0,
  "margin-bottom": 0,
  "margin-right": 0,
  "margin-top": 0,

  "spacing": 1, // Gaps between modules (4px)

  "modules-left": [
      "niri/window"
      //"mpd"
    //   "custom/media",
    //   "custom/cava-internal"
  ],
  "modules-center": [
      "custom/weather",
      "clock#date",
      "niri/workspaces"
  ],
  "modules-right": [
      //"backlight",
      //"custom/storage",
      "memory",
      "cpu",
      "battery",
      //"pulseaudio",
      "wireplumber",
      "niri/language",
      "tray",
    //   "custom/controls",
      "custom/power"
  ],


  // -------------------------------------------------------------------------
  // Modules
  // -------------------------------------------------------------------------

  "custom/sp1": {
      "format": " | ",
      "tooltip": false
  },
  "custom/sp2": {
      "format": " |",
      "tooltip": false
  },


  "custom/rofi": {
      "format": "ïƒ‰ ",
      "tooltip": false,
      "on-click-right": "nwg-drawer",
      "on-click": "wofi --show drun",
      "on-click-middle": "pkill -9 wofi"
  },
  "custom/screenshot_t":{
      "format":"ï€° ",
      "tooltip": false,
      "on-click": "~/.config/hypr/scripts/screenshot_full",
      "on-click-right":"~/.config/hypr/scripts/screenshot_area"
  },

  "clock#1": {
      "format": "ï³ {:%a}",
      "tooltip": false,
      "on-click": "gsimplecal"
  },
  "clock#2": {
      "format": "ï‰´ {:%d-%h-%Y}",
      "tooltip": false,
      "on-click": "gsimplecal"
  },
  "clock#3": {
      "format": "ï€— {:%H:%M:%S %p}",
      "tooltip": false,
      "on-click": "gsimplecal"
  },

  "clock": {
      "format": "ï€—  {:%H:%M  ï³  %e %b}",
      "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
      "today-format": "<b>{}</b>"
  },

  "clock#date": {
      //"format": "ï€—  {:%H:%M, %e %b}",
      "format": "ï€— {:%I:%M %p, %d %B (%a)}",
      "tooltip-format": "<tt><big>{calendar}</big></tt>",
      "today-format": "<big>{}</big>",
      "on-click": "gsimplecal"
  },

  "temperature": {
      "interval": 4,
      "critical-threshold": 80,
      "format-critical": "ï±  {temperatureC}Â°C",
      "format": "{icon}  {temperatureC}Â°C",
      "format-icons": ["ï«", "ï‹‰", "ï©"],
      "max-length": 7,
      "min-length": 7,
      "on-click": "xsensors"
  },

  "memory": {
      "interval": 3,
      "format": "ï‹› {used:0.2f} / {total:0.2f} GiB <span color=\"darkgray\">| {percentage}%</span>",
      "tooltip-format": "ï‹› Swap {swapUsed:0.2f} / {swapTotal:0.2f} GiB | {swapPercentage}%",
      "on-click": "missioncenter"
  },

  "cpu": {
    "interval": 1,
    //"format": "ï‹› {}%", // Icon: microchip
    "format": "ï’¼ {max_frequency}GHz <span color=\"darkgray\">| {usage}%</span>",
    "max-length": 16,
    "min-length": 13,
    "on-click": "missioncenter"
  },

  "battery": {
      "interval": 2,
      "states": {
          "good": 95,
          "warning": 30,
          "critical": 15
      },
      "format": "{icon} {capacity}%",
      "format-charging": "ï–ƒ {capacity}%",
      "format-plugged": "ï‡¦ {capacity}%",
      "format-icons": [
          "ï‰„",
          "ï‰ƒ",
          "ï‰‚",
          "ï‰",
          "ï‰€"
      ]
  },
  "network": {
      "format-wifi": "ï‡« {essid} ({signalStrength}%)",
      "format-ethernet": "{ifname}: {ipaddr}/{cidr} ï–",
      "format-linked": "{ifname} (No IP) ï–",
      "format": "ï€’",
      "format-disconnected": "ïš”",
      "format-alt": "{ifname}: {ipaddr}/{cidr}",
      "on-click": "wl-copy $(ip address show up scope global | grep inet | head -n1 | cut -d/ -f 1 | tr -d [:space:] | cut -c5-)",
      "on-click-right": "wl-copy $(ip address show up scope global | grep inet6 | head -n1 | cut -d/ -f 1 | tr -d [:space:] | cut -c6-)",
      "tooltip-format": "ï‚“ {bandwidthUpBits} ï€™ {bandwidthDownBits}\n{ifname}\n{ipaddr}/{cidr}\n",
      "tooltip-format-wifi": "ï‡« {essid} {frequency}MHz\nStrength: {signaldBm}dBm ({signalStrength}%)\nIP: {ipaddr}/{cidr}\nï‚“ {bandwidthUpBits} ï€™ {bandwidthDownBits}",
      "interval": 10
  },
  "custom/storage": {
      "format": "ï‚  {} left / 64G",
      "format-alt": "{percentage}% ï‚ ",
      "format-alt-click": "click-right",
      "return-type": "json",
      "interval": 60,
      "exec": "~/.config/waybar/modules/storage.sh"
  },
  "backlight": {
      "device": "intel_backlight",
      "format": "{icon} {percent}%",
      "format-alt": "{percent}% {icon}",
      "format-alt-click": "click-right",
      //"format-icons": ["ïƒ«", "ï ´"],
      "format-icons": ["ï†…", "ï„‘"],
      "on-scroll-down": "brightnessctl s 5%-",
      "on-scroll-up": "brightnessctl s +5%"
  },
  "idle_inhibitor": {
      "format": "{icon}",
      "format-icons": {
          "activated": "ï®",
          "deactivated": "ï°"
      },
      "tooltip": "true"
  },
  "custom/weather": {
      "format": "{}",
      "format-alt": "{alt}: {}",
      "format-alt-click": "click-right",
      "interval": 3600,
      "exec": "curl -s 'https://wttr.in/?format=1' | cut --delimiter ' ' -f 1,4",
      //"return-type": "json",
      //"exec": "~/.config/waybar/modules/weather.sh",
      "exec-if": "ping wttr.in -c1",
      "tooltip": false
  },
  "custom/pacman": {
      "format": "<big>ô†²</big>  {}",
      "interval": 3600,                     // every hour
      "exec": "checkupdates | wc -l",       // # of updates
      "exec-if": "exit 0",                  // always run; consider advanced run conditions
      "on-click": "alacritty -e 'paru'; pkill -SIGRTMIN+8 waybar", // update system
      "signal": 8,
      "max-length": 5,
      "min-length": 3
  },

  "custom/media": {
      "format": " {icon} {}",
      "return-type": "json",
      "max-length": 50,
      "escape": true,
      "format-icons": "ï€ ",
      "exec": "$HOME/.config/waybar/mediaplayer.py 2> /dev/null" // Script in resources folder
      // "exec": "$HOME/.config/waybar/mediaplayer.py --player spotify 2> /dev/null" // Filter player based on name
  },
  // "custom/media": {
  //     "format": "{icon}",
  //     "return-type": "json",
  //     "max-length": 80,
  //     "format-icons": "ğŸœ ",
  //     "escape": true,
  //     "exec": "$HOME/.config/waybar/mediaplayer.py 3> /dev/null"
  // },
  
  "custom/cava-internal": {
      "format": "ï‘£ {}",
      "exec": "cava -p ~/.config/cava/config1 | sed -u 's/;//g;s/0/â–/g;s/1/â–‚/g;s/2/â–ƒ/g;s/3/â–„/g;s/4/â–…/g;s/5/â–†/g;s/6/â–‡/g;s/7/â–ˆ/g;'",
      "tooltip":false
  },

  "custom/power": {
      "format": "<span foreground='#ff6b6b'>ï€‘â€‰</span>",
      "tooltip": false,
      "on-click": "wlogout"
  },

  "custom/gammastep": {
    "interval": 5,
    "return-type": "json",
    "exec": {
      "pre": "if unit_status=\"$(systemctl --user is-active gammastep)\"; then\nstatus=\"$unit_status ($(journalctl --user -u gammastep.service -g 'Period: ' | tail -1 | cut -d ':' -f6 | xargs))\"\nelse\nstatus=\"$unit_status\"\nfi",
      "alt": "${status:-inactive}",
      "tooltip": "Gammastep is $status"
    },
    "format": "{icon}",
    "format-icons": {
      "activating": "ó°ª ",
      "deactivating": "ó°ª ",
      "inactive": "? ",
      "active (Night)": "ï†† ",
      "active (Nighttime)": "ï†† ",
      "active (Transition (Night)": "ï†† ",
      "active (Transition (Nighttime)": "ï†† ",
      "active (Day)": "îŒ ",
      "active (Daytime)": "îŒ ",
      "active (Transition (Day)": "îŒ ",
      "active (Transition (Daytime)": "îŒ "
    },
    "on-click": "systemctl --user is-active gammastep && systemctl --user stop gammastep || systemctl --user start gammastep"
  },

  "custom/title": {
      "format": "{}",
      "interval": 0,
      "return-type": "json",
      //"max-length": 35,
      "tooltip": false
  },

  "niri/language": {
      "format": "<span foreground='#76e9a6'>ï‚¬ {}</span>",
      "format-en": "US",
      "format-en-intl": "US INTL",
    //   "format-": "US INTL", // Workaround while variants get fixed
      "format-es": "ES",
      "tooltip": false,
      "on-click": "hyprctl switchxkblayout $(hyprctl devices | grep 'main: yes' -B 6 | head -n 1 | awk '{print $1}') next"
  },

  "custom/title#name": {
      "format": "{}",
      "interval": 0,
      "return-type": "json",
      "max-length": 35,
      "exec": "$HOME/.scripts/title"
  },

  "niri/workspaces": {
    "all-outputs": false,
    "format": "{icon}",
    "format-icons": {
        "1": "1 ï„‘ ",
        "2": "2 ï„‘ ",
        "3": "3 ï„‘ ",
        "4": "4 ï„‘ ",
        "5": "5 ï„‘ ",
        "6": "6 ï„‘ ",
        "7": "7 ï„‘ ",
        "8": "8 ï„‘ ",
        "9": "9 ï„‘ ",
        "10": "10 ï„‘ ",
        "11": "1 ï„‘ ",
        "12": "2 ï„‘ ",
        "13": "3 ï„‘ ",
        "14": "4 ï„‘ ",
        "15": "5 ï„‘ ",
        "16": "6 ï„‘ ",
        "17": "7 ï„‘ ",
        "18": "8 ï„‘ ",
        "19": "9 ï„‘ ",
        "20": "10 ï„‘ "
    },
    "on-scroll-up": "hyprctl dispatch split:workspace e+1 1>/dev/null",
    "on-scroll-down": "hyprctl dispatch split:workspace e-1 1>/dev/null",
    "sort-by-number": true,
    "active-only": false
  },

  "custom/controls": {
      "format": "î«’",
      "on-click": "hyprctl reload"
  },

  "niri/window": {
      "max-length": 50,
      "separate-outputs": true,
      "format": "ï‹ {title}"
  },

  "pulseaudio": {
      "scroll-step": 3, // %, can be a float
      //"format": "{icon} {volume}% {format_source}",
      "format": "ó°‹ {volume}% {format_source}",
      "format-bluetooth": "{volume}% {icon}ïŠ” {format_source}",
      "format-bluetooth-muted": "ïš© {icon}ïŠ” {format_source}",
      "format-muted": "ó°‹ {format_source}",
      //"format-source": "{volume}% ï„°",
      //"format-source-muted": "ï„±",
      "format-source": "ï„°",
      "format-source-muted": "ï„±",
      "format-icons": {
          "headphone": "ï€¥",
          "hands-free": "ï–",
          "headset": "ï–",
          "phone": "ï‚•",
          "portable": "ï‚•",
          "car": "ï†¹",
          "default": ["ï€¦", "ï€§", "ï€¨"]
      },
      "on-click": "pavucontrol",
      "on-click-right": "amixer sset Master toggle"
  },

  "wireplumber": {
      "on-click": "pavucontrol",
      "on-click-right": "amixer sset Master toggle 1>/dev/null",
      //on-click: "${wpctl} set-mute @DEFAULT_AUDIO_SINK@ toggle";
      //on-scroll-down: "${wpctl} set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 0.04+";
      //on-scroll-up: "${wpctl} set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 0.04-";
      "format": "<span foreground='#fab387'>{icon}</span> {volume}%",
      "format-muted": "<span foreground='#fab387'>ïš©</span> shut up",
      "format-source": "ï„°",
      "format-source-muted": "ï„±",
      //"format-muted": "<span foreground='#fab387'>ï‘¦ </span>",
      //"format-icons": [ "<span foreground='#fab387'>ï€¨</span>" ]
      "format-icons": {
          "headphone": "ó°‹ ",
          "hands-free": "ï– ",
          "headset": "ï– ",
          "phone": "ï‚• ",
          "portable": "ï‚• ",
          "car": "ï†¹ ",
          "default": ["ó°‹ ", "ó°‹ ", "ó°‹ "]
      }
  },

  "tray": {
      "icon-size": 13,
      "spacing": 5
  }
}
